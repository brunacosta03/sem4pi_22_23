<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="741px" preserveAspectRatio="none" style="width:886px;height:741px;background:#FFFFFF;" version="1.1" viewBox="0 0 886 741" width="886px" zoomAndPan="magnify"><defs/><g><!--MD5=[c8a87cdc9487918d1d1197eccc4f9ae0]
class ChangeUserStateUI--><g id="elem_ChangeUserStateUI"><polygon fill="#F1F1F1" points="489.5,7,489.5,7.2102,499.5667,6.5857,509.6333,7.1933,519.7,7.3997,529.7667,6.2866,539.8333,6.9223,549.9,6.5735,559.9667,6.6165,570.0333,6.9318,580.1,6.3086,590.1667,7.5536,600.2333,6.3697,610.3,6.8022,620.3667,7.4319,630.4333,6.9142,640.5,7,640.5087,7.021,640.8495,7.1366,641.2299,7.3479,641.5912,7.513,641.9889,7.7662,642.2678,7.7322,642.4744,7.8178,642.6234,8.1724,642.6391,8.4718,642.8499,8.852,643.0698,9.236,643,9.5,642.2788,9.5,643.6785,19.6875,642.7035,29.875,643.5338,40.0625,642.505,50.25,642.9315,60.4375,643.7416,70.625,643,80.8125,642.985,80.8063,642.886,81.1795,642.8114,81.5628,642.6888,81.9263,642.413,82.2262,642.2678,82.5803,642.3044,82.6687,641.8412,82.5504,641.5969,82.9607,641.277,83.1884,640.9103,83.303,640.5,83.3125,640.5,83.9255,630.4333,82.8294,620.3667,82.6603,610.3,82.6911,600.2333,83.2536,590.1667,83.116,580.1,83.9939,570.0333,83.1378,559.9667,82.9694,549.9,83.5408,539.8333,82.6457,529.7667,82.7934,519.7,83.9615,509.6333,83.7482,499.5667,84.047,489.5,83.3125,489.459,83.2134,489.1872,83.2644,488.8682,83.2014,488.3791,82.7277,488.0736,82.6972,487.7322,82.5803,487.771,82.5963,487.7865,82.3099,487.438,81.8726,487.4353,81.5786,486.9759,81.0954,487,80.8125,486.3227,80.8125,487.5036,70.625,486.2831,60.4375,487.509,50.25,487.2066,40.0625,486.7321,29.875,486.6462,19.6875,487,9.5,487.1413,9.5585,487.0543,9.1083,487.4752,8.8684,487.2691,8.3688,487.7759,8.1645,487.7322,7.7322,487.794,7.8814,488.117,7.6612,488.4454,7.4539,488.8856,7.5167,489.2247,7.3354,489.5,7" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#C2C2C2" points="513.0608,31.0272,511.4484,33.2304,509.5412,36.4573,506.8136,38.632,503.9474,39.8212,501.662,39.9244,498.7247,38.4371,495.9532,37.4655,493.8495,35.4927,492.7461,33.2343,492.0917,31.4361,491.4506,29.0873,490.41,27.066,491.2096,25.0926,491.9102,22.9308,494.5393,21.221,496.389,19.0027,498.6784,18.266,501.4001,17.6316,504.8904,18.0085,506.8021,18.9101,509.0247,19.3188,511.7272,22.0875,512.6693,25.0105,513.0786,27.0049,512.615,30.2914" style="stroke:#181818;stroke-width:1.0;"/><path d="M504.7656,24.2266 Q504.9219,24.0078 505.1094,23.8984 Q505.2969,23.7891 505.5156,23.7891 Q505.8906,23.7891 506.125,24.0547 Q506.3594,24.3047 506.3594,24.9141 L506.3594,26.3672 Q506.3594,26.9766 506.125,27.2422 Q505.8906,27.5078 505.5156,27.5078 Q505.1719,27.5078 504.9688,27.3047 Q504.7656,27.1172 504.6563,26.6016 Q504.6094,26.2422 504.4219,26.0547 Q504.0938,25.6797 503.4844,25.4609 Q502.875,25.2422 502.25,25.2422 Q501.4844,25.2422 500.8438,25.5703 Q500.2188,25.8984 499.7188,26.6484 Q499.2344,27.3984 499.2344,28.4297 L499.2344,29.5234 Q499.2344,30.7578 500.125,31.5859 Q501.0156,32.3984 502.6094,32.3984 Q503.5469,32.3984 504.2031,32.1484 Q504.5938,31.9922 505.0156,31.5547 Q505.2813,31.2891 505.4219,31.2109 Q505.5781,31.1328 505.7813,31.1328 Q506.1094,31.1328 506.3594,31.3984 Q506.625,31.6484 506.625,31.9922 Q506.625,32.3359 506.2813,32.7422 Q505.7813,33.3203 504.9844,33.6484 Q503.9063,34.1016 502.6094,34.1016 Q501.0938,34.1016 499.8906,33.4766 Q498.9063,32.9766 498.2188,31.9141 Q497.5313,30.8359 497.5313,29.5547 L497.5313,28.3984 Q497.5313,27.0703 498.1406,25.9297 Q498.7656,24.7734 499.8594,24.1641 Q500.9531,23.5391 502.1875,23.5391 Q502.9219,23.5391 503.5625,23.7109 Q504.2188,23.8672 504.7656,24.2266 Z " fill="#000000"/><text fill="#000000" font-family="FG Virgil" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="82" x="537" y="24.457">«presentation»</text><text fill="#000000" font-family="FG Virgil" font-size="14" lengthAdjust="spacing" textLength="124" x="516" y="41.627">ChangeUserStateUI</text><path d="M488,49.7031 L488,49.9834 L498.2667,49.1507 L508.5333,49.9608 L518.8,50.236 L529.0667,48.7519 L539.3333,49.5995 L549.6,49.1345 L559.8667,49.1918 L570.1333,49.6122 L580.4,48.7813 L590.6667,50.4413 L600.9333,48.8628 L611.2,49.4394 L621.4667,50.2791 L631.7333,49.5888 L642,49.7031 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><path d="M488,57.7031 L488,57.9834 L498.2667,57.1507 L508.5333,57.9608 L518.8,58.236 L529.0667,56.7519 L539.3333,57.5995 L549.6,57.1345 L559.8667,57.1918 L570.1333,57.6122 L580.4,56.7813 L590.6667,58.4413 L600.9333,56.8628 L611.2,57.4394 L621.4667,58.2791 L631.7333,57.5888 L642,57.7031 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="FG Virgil" font-size="14" lengthAdjust="spacing" textLength="60" x="493" y="76.2363">doShow()</text></g><!--MD5=[62848162c92c404759fa28c8759a215a]
class ChangeUserStateController--><g id="elem_ChangeUserStateController"><polygon fill="#F1F1F1" points="464.5,161,464.5,161.2102,474.55,160.5857,484.6,161.1933,494.65,161.3997,504.7,160.2866,514.75,160.9223,524.8,160.5735,534.85,160.6165,544.9,160.9318,554.95,160.3086,565,161.5536,575.05,160.3697,585.1,160.8022,595.15,161.4319,605.2,160.9142,615.25,161.0682,625.3,160.9681,635.35,161.1785,645.4,161.2391,655.45,161.5857,665.5,161,665.5856,161.2067,665.9402,161.3556,666.2396,161.3713,666.6198,161.5821,667.0038,161.802,667.2678,161.7322,667.0457,161.6402,667.6232,162.1723,667.4693,162.4015,667.8715,162.861,667.7011,163.0833,668,163.5,667.9315,163.5,668.7416,173.6875,667.9513,183.875,668.1053,194.0625,668.3386,204.25,668.4162,214.4375,667.9961,224.625,668,234.8125,668.0885,234.8491,667.6773,235.093,667.7947,235.5559,667.7295,235.9431,667.5511,236.2834,667.2678,236.5803,667.346,236.7691,666.8526,236.5779,666.4775,236.6723,666.1278,236.8282,665.846,237.1479,665.5,237.3125,665.5,237.116,655.45,237.9939,645.4,237.1378,635.35,236.9694,625.3,237.5408,615.25,236.6457,605.2,236.7934,595.15,237.9615,585.1,237.7482,575.05,238.047,565,236.9907,554.95,237.6317,544.9,237.9029,534.85,236.8401,524.8,237.2166,514.75,237.4385,504.7,237.9643,494.65,237.3083,484.6,237.7751,474.55,236.7587,464.5,237.3125,464.4136,237.1039,464.2107,237.3211,463.7014,236.7988,463.5043,237.0299,463.1121,236.7903,462.7322,236.5803,462.6497,236.5461,462.4768,236.1816,462.5806,235.9317,462.2007,235.4814,462.3287,235.2416,462,234.8125,461.4473,234.8125,462.6174,224.625,462.4843,214.4375,462.245,204.25,462.0472,194.0625,462.7266,183.875,462.6136,173.6875,462,163.5,462.0521,163.5216,462.229,163.1807,462.2528,162.7763,462.66,162.5307,462.6335,162.1055,462.7322,161.7322,462.7542,161.7854,463.0082,161.3984,463.3876,161.3145,463.8606,161.4563,464.2013,161.2788,464.5,161" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#C2C2C2" points="488.0608,185.0272,486.4484,187.2304,484.5412,190.4573,481.8136,192.632,478.9474,193.8212,476.662,193.9244,473.7247,192.4371,470.9532,191.4655,468.8495,189.4927,467.7461,187.2343,467.0917,185.4361,466.4506,183.0873,465.41,181.066,466.2096,179.0926,466.9102,176.9308,469.5393,175.221,471.389,173.0027,473.6784,172.266,476.4001,171.6316,479.8904,172.0085,481.8021,172.9101,484.0247,173.3188,486.7272,176.0875,487.6693,179.0105,488.0786,181.0049,487.615,184.2914" style="stroke:#181818;stroke-width:1.0;"/><path d="M479.7656,178.2266 Q479.9219,178.0078 480.1094,177.8984 Q480.2969,177.7891 480.5156,177.7891 Q480.8906,177.7891 481.125,178.0547 Q481.3594,178.3047 481.3594,178.9141 L481.3594,180.3672 Q481.3594,180.9766 481.125,181.2422 Q480.8906,181.5078 480.5156,181.5078 Q480.1719,181.5078 479.9688,181.3047 Q479.7656,181.1172 479.6563,180.6016 Q479.6094,180.2422 479.4219,180.0547 Q479.0938,179.6797 478.4844,179.4609 Q477.875,179.2422 477.25,179.2422 Q476.4844,179.2422 475.8438,179.5703 Q475.2188,179.8984 474.7188,180.6484 Q474.2344,181.3984 474.2344,182.4297 L474.2344,183.5234 Q474.2344,184.7578 475.125,185.5859 Q476.0156,186.3984 477.6094,186.3984 Q478.5469,186.3984 479.2031,186.1484 Q479.5938,185.9922 480.0156,185.5547 Q480.2813,185.2891 480.4219,185.2109 Q480.5781,185.1328 480.7813,185.1328 Q481.1094,185.1328 481.3594,185.3984 Q481.625,185.6484 481.625,185.9922 Q481.625,186.3359 481.2813,186.7422 Q480.7813,187.3203 479.9844,187.6484 Q478.9063,188.1016 477.6094,188.1016 Q476.0938,188.1016 474.8906,187.4766 Q473.9063,186.9766 473.2188,185.9141 Q472.5313,184.8359 472.5313,183.5547 L472.5313,182.3984 Q472.5313,181.0703 473.1406,179.9297 Q473.7656,178.7734 474.8594,178.1641 Q475.9531,177.5391 477.1875,177.5391 Q477.9219,177.5391 478.5625,177.7109 Q479.2188,177.8672 479.7656,178.2266 Z " fill="#000000"/><text fill="#000000" font-family="FG Virgil" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="74" x="541" y="178.457">«application»</text><text fill="#000000" font-family="FG Virgil" font-size="14" lengthAdjust="spacing" textLength="174" x="491" y="195.627">ChangeUserStateController</text><path d="M463,203.7031 L463,203.9834 L473.2,203.1507 L483.4,203.9608 L493.6,204.236 L503.8,202.7519 L514,203.5995 L524.2,203.1345 L534.4,203.1918 L544.6,203.6122 L554.8,202.7813 L565,204.4413 L575.2,202.8628 L585.4,203.4394 L595.6,204.2791 L605.8,203.5888 L616,203.7941 L626.2,203.6605 L636.4,203.9412 L646.6,204.022 L656.8,204.484 L667,203.7031 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><path d="M463,211.7031 L463,211.9834 L473.2,211.1507 L483.4,211.9608 L493.6,212.236 L503.8,210.7519 L514,211.5995 L524.2,211.1345 L534.4,211.1918 L544.6,211.6122 L554.8,210.7813 L565,212.4413 L575.2,210.8628 L585.4,211.4394 L595.6,212.2791 L605.8,211.5888 L616,211.7941 L626.2,211.6605 L636.4,211.9412 L646.6,212.022 L656.8,212.484 L667,211.7031 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="FG Virgil" font-size="14" lengthAdjust="spacing" textLength="169" x="468" y="230.2363">enableUserByEmail(String)</text></g><!--MD5=[0b1f3d1c1978f9b151365e147219e3b1]
class AuthzRegistry--><g id="elem_AuthzRegistry"><polygon fill="#F1F1F1" points="9.5,324,9.5,324.2102,19.1667,323.5857,28.8333,324.1933,38.5,324.3997,48.1667,323.2866,57.8333,323.9223,67.5,323.5735,77.1667,323.6165,86.8333,323.9318,96.5,323.3086,106.1667,324.5536,115.8333,323.3697,125.5,323.8022,135.1667,324.4319,144.8333,323.9142,154.5,324,154.5087,324.021,154.8495,324.1366,155.2299,324.3479,155.5912,324.513,155.9889,324.7662,156.2678,324.7322,156.4744,324.8178,156.6234,325.1724,156.6391,325.4718,156.8499,325.852,157.0698,326.236,157,326.5,156.2788,326.5,157.6785,336.6875,156.7035,346.875,157.5338,357.0625,156.505,367.25,156.9315,377.4375,157.7416,387.625,157,397.8125,156.985,397.8063,156.886,398.1795,156.8114,398.5628,156.6888,398.9263,156.413,399.2262,156.2678,399.5803,156.3044,399.6687,155.8412,399.5504,155.5969,399.9607,155.277,400.1884,154.9103,400.303,154.5,400.3125,154.5,400.9255,144.8333,399.8294,135.1667,399.6603,125.5,399.6911,115.8333,400.2536,106.1667,400.116,96.5,400.9939,86.8333,400.1378,77.1667,399.9694,67.5,400.5408,57.8333,399.6457,48.1667,399.7934,38.5,400.9615,28.8333,400.7482,19.1667,401.047,9.5,400.3125,9.459,400.2134,9.1872,400.2644,8.8682,400.2014,8.3791,399.7277,8.0736,399.6972,7.7322,399.5803,7.771,399.5963,7.7865,399.3099,7.438,398.8726,7.4353,398.5786,6.9759,398.0954,7,397.8125,6.3227,397.8125,7.5036,387.625,6.2831,377.4375,7.509,367.25,7.2066,357.0625,6.7321,346.875,6.6462,336.6875,7,326.5,7.1413,326.5585,7.0543,326.1083,7.4752,325.8684,7.2691,325.3688,7.7759,325.1645,7.7322,324.7322,7.794,324.8814,8.117,324.6612,8.4454,324.4539,8.8856,324.5167,9.2247,324.3354,9.5,324" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#C2C2C2" points="47.0108,348.0272,45.3984,350.2304,43.4912,353.4573,40.7636,355.632,37.8974,356.8212,35.612,356.9244,32.6747,355.4371,29.9032,354.4655,27.7995,352.4927,26.6961,350.2343,26.0417,348.4361,25.4006,346.0873,24.36,344.066,25.1596,342.0926,25.8602,339.9308,28.4893,338.221,30.339,336.0027,32.6284,335.266,35.3501,334.6316,38.8404,335.0085,40.7521,335.9101,42.9747,336.3188,45.6772,339.0875,46.6193,342.0105,47.0286,344.0049,46.565,347.2914" style="stroke:#181818;stroke-width:1.0;"/><path d="M38.7156,341.2266 Q38.8719,341.0078 39.0594,340.8984 Q39.2469,340.7891 39.4656,340.7891 Q39.8406,340.7891 40.075,341.0547 Q40.3094,341.3047 40.3094,341.9141 L40.3094,343.3672 Q40.3094,343.9766 40.075,344.2422 Q39.8406,344.5078 39.4656,344.5078 Q39.1219,344.5078 38.9188,344.3047 Q38.7156,344.1172 38.6063,343.6016 Q38.5594,343.2422 38.3719,343.0547 Q38.0438,342.6797 37.4344,342.4609 Q36.825,342.2422 36.2,342.2422 Q35.4344,342.2422 34.7938,342.5703 Q34.1688,342.8984 33.6688,343.6484 Q33.1844,344.3984 33.1844,345.4297 L33.1844,346.5234 Q33.1844,347.7578 34.075,348.5859 Q34.9656,349.3984 36.5594,349.3984 Q37.4969,349.3984 38.1531,349.1484 Q38.5438,348.9922 38.9656,348.5547 Q39.2313,348.2891 39.3719,348.2109 Q39.5281,348.1328 39.7313,348.1328 Q40.0594,348.1328 40.3094,348.3984 Q40.575,348.6484 40.575,348.9922 Q40.575,349.3359 40.2313,349.7422 Q39.7313,350.3203 38.9344,350.6484 Q37.8563,351.1016 36.5594,351.1016 Q35.0438,351.1016 33.8406,350.4766 Q32.8563,349.9766 32.1688,348.9141 Q31.4813,347.8359 31.4813,346.5547 L31.4813,345.3984 Q31.4813,344.0703 32.0906,342.9297 Q32.7156,341.7734 33.8094,341.1641 Q34.9031,340.5391 36.1375,340.5391 Q36.8719,340.5391 37.5125,340.7109 Q38.1688,340.8672 38.7156,341.2266 Z " fill="#000000"/><text fill="#000000" font-family="FG Virgil" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="30" x="81.55" y="341.457">«util»</text><text fill="#000000" font-family="FG Virgil" font-size="14" lengthAdjust="spacing" textLength="87" x="53.05" y="358.627">AuthzRegistry</text><path d="M8,366.7031 L8,366.9834 L17.8667,366.1507 L27.7333,366.9608 L37.6,367.236 L47.4667,365.7519 L57.3333,366.5995 L67.2,366.1345 L77.0667,366.1918 L86.9333,366.6122 L96.8,365.7813 L106.6667,367.4413 L116.5333,365.8628 L126.4,366.4394 L136.2667,367.2791 L146.1333,366.5888 L156,366.7031 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><path d="M8,374.7031 L8,374.9834 L17.8667,374.1507 L27.7333,374.9608 L37.6,375.236 L47.4667,373.7519 L57.3333,374.5995 L67.2,374.1345 L77.0667,374.1918 L86.9333,374.6122 L96.8,373.7813 L106.6667,375.4413 L116.5333,373.8628 L126.4,374.4394 L136.2667,375.2791 L146.1333,374.5888 L156,374.7031 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="FG Virgil" font-size="14" lengthAdjust="spacing" textLength="138" x="13" y="393.2363">authorizationService()</text></g><!--MD5=[54a33dd013dd881697601ca49de6dfbc]
class AuthorizationService--><g id="elem_AuthorizationService"><polygon fill="#F1F1F1" points="195,324,195,324.2102,204.8621,323.5857,214.7241,324.1933,224.5862,324.3997,234.4483,323.2866,244.3103,323.9223,254.1724,323.5735,264.0345,323.6165,273.8966,323.9318,283.7586,323.3086,293.6207,324.5536,303.4828,323.3697,313.3448,323.8022,323.2069,324.4319,333.069,323.9142,342.931,324.0682,352.7931,323.9681,362.6552,324.1785,372.5172,324.2391,382.3793,324.5857,392.2414,324.6711,402.1034,324.6793,411.9655,324.2546,421.8276,324.4636,431.6897,324.7022,441.5517,323.2788,451.4138,324.6785,461.2759,323.7035,471.1379,324.5338,481,324,480.9369,323.8476,481.3448,324.1254,481.8017,324.5213,482.0544,324.4243,482.4276,324.6182,482.7678,324.7322,482.8721,324.7754,483.0424,325.1389,483.0595,325.4388,483.2956,325.8295,483.1773,326.0734,483.5,326.5,483.7844,326.5,484.0482,336.6875,483.9445,346.875,484.113,357.0625,483.0169,367.25,482.8478,377.4375,482.8786,387.625,483.5,397.8125,483.4819,397.805,483.293,398.141,483.417,398.6065,483.0069,398.8509,482.8086,399.183,482.7678,399.5803,482.7969,399.6506,482.3292,399.5214,481.9944,399.7133,481.7899,400.2195,481.4091,400.3002,481,400.3125,481,401.047,471.1379,399.9907,461.2759,400.6317,451.4138,400.9029,441.5517,399.8401,431.6897,400.2166,421.8276,400.4385,411.9655,400.9643,402.1034,400.3083,392.2414,400.7751,382.3793,399.7587,372.5172,399.6352,362.6552,400.8161,352.7931,399.5956,342.931,400.8215,333.069,400.5191,323.2069,400.0446,313.3448,399.9587,303.4828,400.7713,293.6207,400.0132,283.7586,400.9044,273.8966,399.7598,264.0345,400.9299,254.1724,400.7968,244.3103,400.5575,234.4483,400.3597,224.5862,401.0391,214.7241,400.9261,204.8621,400.4818,195,400.3125,195.0342,400.3951,194.6298,400.1259,194.3843,400.2402,193.9591,399.9209,193.6078,399.7799,193.2322,399.5803,193.0449,399.5027,192.961,399.175,193.1028,398.9409,192.9252,398.5744,192.6332,398.1606,192.5,397.8125,192.1778,397.8125,192.2811,387.625,191.8138,377.4375,192.9147,367.25,193.2396,357.0625,193.0264,346.875,193.1949,336.6875,192.5,326.5,192.4579,326.4826,192.6733,326.1576,192.6735,325.7435,193.0268,325.4756,193.1618,325.1173,193.2322,324.7322,193.3027,324.9023,193.5565,324.5151,193.9222,324.3979,194.3495,324.4295,194.7188,324.3212,195,324" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#C2C2C2" points="280.3108,348.0272,278.6984,350.2304,276.7912,353.4573,274.0636,355.632,271.1974,356.8212,268.912,356.9244,265.9747,355.4371,263.2032,354.4655,261.0995,352.4927,259.9961,350.2343,259.3417,348.4361,258.7006,346.0873,257.66,344.066,258.4596,342.0926,259.1602,339.9308,261.7893,338.221,263.639,336.0027,265.9284,335.266,268.6501,334.6316,272.1404,335.0085,274.0521,335.9101,276.2747,336.3188,278.9772,339.0875,279.9193,342.0105,280.3286,344.0049,279.865,347.2914" style="stroke:#181818;stroke-width:1.0;"/><path d="M272.0156,341.2266 Q272.1719,341.0078 272.3594,340.8984 Q272.5469,340.7891 272.7656,340.7891 Q273.1406,340.7891 273.375,341.0547 Q273.6094,341.3047 273.6094,341.9141 L273.6094,343.3672 Q273.6094,343.9766 273.375,344.2422 Q273.1406,344.5078 272.7656,344.5078 Q272.4219,344.5078 272.2188,344.3047 Q272.0156,344.1172 271.9063,343.6016 Q271.8594,343.2422 271.6719,343.0547 Q271.3438,342.6797 270.7344,342.4609 Q270.125,342.2422 269.5,342.2422 Q268.7344,342.2422 268.0938,342.5703 Q267.4688,342.8984 266.9688,343.6484 Q266.4844,344.3984 266.4844,345.4297 L266.4844,346.5234 Q266.4844,347.7578 267.375,348.5859 Q268.2656,349.3984 269.8594,349.3984 Q270.7969,349.3984 271.4531,349.1484 Q271.8438,348.9922 272.2656,348.5547 Q272.5313,348.2891 272.6719,348.2109 Q272.8281,348.1328 273.0313,348.1328 Q273.3594,348.1328 273.6094,348.3984 Q273.875,348.6484 273.875,348.9922 Q273.875,349.3359 273.5313,349.7422 Q273.0313,350.3203 272.2344,350.6484 Q271.1563,351.1016 269.8594,351.1016 Q268.3438,351.1016 267.1406,350.4766 Q266.1563,349.9766 265.4688,348.9141 Q264.7813,347.8359 264.7813,346.5547 L264.7813,345.3984 Q264.7813,344.0703 265.3906,342.9297 Q266.0156,341.7734 267.1094,341.1641 Q268.2031,340.5391 269.4375,340.5391 Q270.1719,340.5391 270.8125,340.7109 Q271.4688,340.8672 272.0156,341.2266 Z " fill="#000000"/><text fill="#000000" font-family="FG Virgil" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="53" x="327.75" y="341.457">«service»</text><text fill="#000000" font-family="FG Virgil" font-size="14" lengthAdjust="spacing" textLength="129" x="289.75" y="358.627">AuthorizationService</text><path d="M193.5,366.7031 L193.5,366.9834 L203.4655,366.1507 L213.431,366.9608 L223.3966,367.236 L233.3621,365.7519 L243.3276,366.5995 L253.2931,366.1345 L263.2586,366.1918 L273.2241,366.6122 L283.1897,365.7813 L293.1552,367.4413 L303.1207,365.8628 L313.0862,366.4394 L323.0517,367.2791 L333.0172,366.5888 L342.9828,366.7941 L352.9483,366.6605 L362.9138,366.9412 L372.8793,367.022 L382.8448,367.484 L392.8103,367.5979 L402.7759,367.6088 L412.7414,367.0426 L422.7069,367.3212 L432.6724,367.6394 L442.6379,365.7415 L452.6034,367.6078 L462.569,366.3078 L472.5345,367.4149 L482.5,366.7031 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><path d="M193.5,374.7031 L193.5,374.9834 L203.4655,374.1507 L213.431,374.9608 L223.3966,375.236 L233.3621,373.7519 L243.3276,374.5995 L253.2931,374.1345 L263.2586,374.1918 L273.2241,374.6122 L283.1897,373.7813 L293.1552,375.4413 L303.1207,373.8628 L313.0862,374.4394 L323.0517,375.2791 L333.0172,374.5888 L342.9828,374.7941 L352.9483,374.6605 L362.9138,374.9412 L372.8793,375.022 L382.8448,375.484 L392.8103,375.5979 L402.7759,375.6088 L412.7414,375.0426 L422.7069,375.3212 L432.6724,375.6394 L442.6379,373.7415 L452.6034,375.6078 L462.569,374.3078 L472.5345,375.4149 L482.5,374.7031 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="FG Virgil" font-size="14" lengthAdjust="spacing" textLength="279" x="198.5" y="393.2363">ensureAuthenticatedUserHasAnyOf(Role...))</text></g><!--MD5=[49911543bde009bea1ce58d6156faf98]
class user:User--><g id="elem_user:User"><polygon fill="#F1F1F1" points="521,315,521,315.2102,530.7778,314.5857,540.5556,315.1933,550.3333,315.3997,560.1111,314.2866,569.8889,314.9223,579.6667,314.5735,589.4444,314.6165,599.2222,314.9318,609,315,608.9118,314.7871,609.4242,315.3169,609.6267,315.0988,610.0354,315.3784,610.4693,315.7188,610.7678,315.7322,610.7414,315.7213,610.9352,316.0945,611.0508,316.4353,611.2621,316.8157,611.4272,317.177,611.5,317.5,612.0857,317.5,612.1711,327.3802,612.1793,337.2604,611.7546,347.1406,611.9636,357.0208,612.2022,366.901,610.7788,376.7813,612.1785,386.6615,611.2035,396.5417,611.5,406.4219,611.6644,406.49,611.2011,406.7123,611.186,407.1202,611.289,407.5771,610.8992,407.8299,610.7678,408.1896,610.7812,408.2221,610.4574,408.4404,610.1138,408.6107,609.7066,408.6278,609.3902,408.8639,609,408.9219,609,408.3495,599.2222,409.2063,589.4444,409.4701,579.6667,409.3664,569.8889,409.5349,560.1111,408.4388,550.3333,408.2697,540.5556,408.3005,530.7778,408.863,521,408.9219,520.9749,408.8614,520.7334,408.9853,520.2706,408.5752,519.8956,408.3769,519.6149,408.4064,519.2322,408.1896,519.0269,408.1046,518.9259,407.7699,519.1392,407.5653,518.9271,407.1846,518.8726,406.8691,518.5,406.4219,518.1782,406.4219,518.8192,396.5417,519.0904,386.6615,518.0276,376.7813,518.4041,366.901,518.626,357.0208,519.1518,347.1406,518.4958,337.2604,518.9626,327.3802,518.5,317.5,518.3295,317.4294,518.4379,317.0601,518.948,316.8571,518.7186,316.3479,519.2425,316.1507,519.2322,315.7322,519.2586,315.7959,519.5516,315.5033,519.8942,315.3304,520.3514,315.4342,520.6083,315.0543,521,315" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#C2C2C2" points="544.5608,339.0272,542.9484,341.2304,541.0412,344.4573,538.3136,346.632,535.4474,347.8212,533.162,347.9244,530.2247,346.4371,527.4532,345.4655,525.3495,343.4927,524.2461,341.2343,523.5917,339.4361,522.9506,337.0873,521.91,335.066,522.7096,333.0926,523.4102,330.9308,526.0393,329.221,527.889,327.0027,530.1784,326.266,532.9001,325.6316,536.3904,326.0085,538.3021,326.9101,540.5247,327.3188,543.2272,330.0875,544.1693,333.0105,544.5786,335.0049,544.115,338.2914" style="stroke:#181818;stroke-width:1.0;"/><path d="M536.2656,332.2266 Q536.4219,332.0078 536.6094,331.8984 Q536.7969,331.7891 537.0156,331.7891 Q537.3906,331.7891 537.625,332.0547 Q537.8594,332.3047 537.8594,332.9141 L537.8594,334.3672 Q537.8594,334.9766 537.625,335.2422 Q537.3906,335.5078 537.0156,335.5078 Q536.6719,335.5078 536.4688,335.3047 Q536.2656,335.1172 536.1563,334.6016 Q536.1094,334.2422 535.9219,334.0547 Q535.5938,333.6797 534.9844,333.4609 Q534.375,333.2422 533.75,333.2422 Q532.9844,333.2422 532.3438,333.5703 Q531.7188,333.8984 531.2188,334.6484 Q530.7344,335.3984 530.7344,336.4297 L530.7344,337.5234 Q530.7344,338.7578 531.625,339.5859 Q532.5156,340.3984 534.1094,340.3984 Q535.0469,340.3984 535.7031,340.1484 Q536.0938,339.9922 536.5156,339.5547 Q536.7813,339.2891 536.9219,339.2109 Q537.0781,339.1328 537.2813,339.1328 Q537.6094,339.1328 537.8594,339.3984 Q538.125,339.6484 538.125,339.9922 Q538.125,340.3359 537.7813,340.7422 Q537.2813,341.3203 536.4844,341.6484 Q535.4063,342.1016 534.1094,342.1016 Q532.5938,342.1016 531.3906,341.4766 Q530.4063,340.9766 529.7188,339.9141 Q529.0313,338.8359 529.0313,337.5547 L529.0313,336.3984 Q529.0313,335.0703 529.6406,333.9297 Q530.2656,332.7734 531.3594,332.1641 Q532.4531,331.5391 533.6875,331.5391 Q534.4219,331.5391 535.0625,331.7109 Q535.7188,331.8672 536.2656,332.2266 Z " fill="#000000"/><text fill="#000000" font-family="FG Virgil" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="56" x="550" y="332.457">«domain»</text><text fill="#000000" font-family="FG Virgil" font-size="14" lengthAdjust="spacing" textLength="61" x="547.5" y="349.627">user:User</text><path d="M519.5,357.7031 L519.5,357.9834 L529.6111,357.1507 L539.7222,357.9608 L549.8333,358.236 L559.9444,356.7519 L570.0556,357.5995 L580.1667,357.1345 L590.2778,357.1918 L600.3889,357.6122 L610.5,357.7031 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><path d="M519.5,365.7031 L519.5,365.9834 L529.6111,365.1507 L539.7222,365.9608 L549.8333,366.236 L559.9444,364.7519 L570.0556,365.5995 L580.1667,365.1345 L590.2778,365.1918 L600.3889,365.6122 L610.5,365.7031 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="FG Virgil" font-size="14" lengthAdjust="spacing" textLength="53" x="524.5" y="384.2363">enable()</text><text fill="#000000" font-family="FG Virgil" font-size="14" lengthAdjust="spacing" textLength="55" x="524.5" y="401.8457">disable()</text></g><!--MD5=[e8c189551b7885b999ad7cefb30fc2a3]
class PersistenceContext--><g id="elem_PersistenceContext"><polygon fill="#F1F1F1" points="649.5,324,649.5,324.2102,659.4333,323.5857,669.3667,324.1933,679.3,324.3997,689.2333,323.2866,699.1667,323.9223,709.1,323.5735,719.0333,323.6165,728.9667,323.9318,738.9,323.3086,748.8333,324.5536,758.7667,323.3697,768.7,323.8022,778.6333,324.4319,788.5667,323.9142,798.5,324,798.5087,324.021,798.8495,324.1366,799.2299,324.3479,799.5912,324.513,799.9889,324.7662,800.2678,324.7322,800.4744,324.8178,800.6234,325.1724,800.6391,325.4718,800.8499,325.852,801.0698,326.236,801,326.5,800.2788,326.5,801.6785,336.6875,800.7035,346.875,801.5338,357.0625,800.505,367.25,800.9315,377.4375,801.7416,387.625,801,397.8125,800.985,397.8063,800.886,398.1795,800.8114,398.5628,800.6888,398.9263,800.413,399.2262,800.2678,399.5803,800.3044,399.6687,799.8412,399.5504,799.5969,399.9607,799.277,400.1884,798.9103,400.303,798.5,400.3125,798.5,400.9255,788.5667,399.8294,778.6333,399.6603,768.7,399.6911,758.7667,400.2536,748.8333,400.116,738.9,400.9939,728.9667,400.1378,719.0333,399.9694,709.1,400.5408,699.1667,399.6457,689.2333,399.7934,679.3,400.9615,669.3667,400.7482,659.4333,401.047,649.5,400.3125,649.459,400.2134,649.1872,400.2644,648.8682,400.2014,648.3791,399.7277,648.0736,399.6972,647.7322,399.5803,647.771,399.5963,647.7865,399.3099,647.438,398.8726,647.4353,398.5786,646.9759,398.0954,647,397.8125,646.3227,397.8125,647.5036,387.625,646.2831,377.4375,647.509,367.25,647.2066,357.0625,646.7321,346.875,646.6462,336.6875,647,326.5,647.1413,326.5585,647.0543,326.1083,647.4752,325.8684,647.2691,325.3688,647.7759,325.1645,647.7322,324.7322,647.794,324.8814,648.117,324.6612,648.4454,324.4539,648.8856,324.5167,649.2247,324.3354,649.5,324" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#C2C2C2" points="673.0608,348.0272,671.4484,350.2304,669.5412,353.4573,666.8136,355.632,663.9474,356.8212,661.662,356.9244,658.7247,355.4371,655.9532,354.4655,653.8495,352.4927,652.7461,350.2343,652.0917,348.4361,651.4506,346.0873,650.41,344.066,651.2096,342.0926,651.9102,339.9308,654.5393,338.221,656.389,336.0027,658.6784,335.266,661.4001,334.6316,664.8904,335.0085,666.8021,335.9101,669.0247,336.3188,671.7272,339.0875,672.6693,342.0105,673.0786,344.0049,672.615,347.2914" style="stroke:#181818;stroke-width:1.0;"/><path d="M664.7656,341.2266 Q664.9219,341.0078 665.1094,340.8984 Q665.2969,340.7891 665.5156,340.7891 Q665.8906,340.7891 666.125,341.0547 Q666.3594,341.3047 666.3594,341.9141 L666.3594,343.3672 Q666.3594,343.9766 666.125,344.2422 Q665.8906,344.5078 665.5156,344.5078 Q665.1719,344.5078 664.9688,344.3047 Q664.7656,344.1172 664.6563,343.6016 Q664.6094,343.2422 664.4219,343.0547 Q664.0938,342.6797 663.4844,342.4609 Q662.875,342.2422 662.25,342.2422 Q661.4844,342.2422 660.8438,342.5703 Q660.2188,342.8984 659.7188,343.6484 Q659.2344,344.3984 659.2344,345.4297 L659.2344,346.5234 Q659.2344,347.7578 660.125,348.5859 Q661.0156,349.3984 662.6094,349.3984 Q663.5469,349.3984 664.2031,349.1484 Q664.5938,348.9922 665.0156,348.5547 Q665.2813,348.2891 665.4219,348.2109 Q665.5781,348.1328 665.7813,348.1328 Q666.1094,348.1328 666.3594,348.3984 Q666.625,348.6484 666.625,348.9922 Q666.625,349.3359 666.2813,349.7422 Q665.7813,350.3203 664.9844,350.6484 Q663.9063,351.1016 662.6094,351.1016 Q661.0938,351.1016 659.8906,350.4766 Q658.9063,349.9766 658.2188,348.9141 Q657.5313,347.8359 657.5313,346.5547 L657.5313,345.3984 Q657.5313,344.0703 658.1406,342.9297 Q658.7656,341.7734 659.8594,341.1641 Q660.9531,340.5391 662.1875,340.5391 Q662.9219,340.5391 663.5625,340.7109 Q664.2188,340.8672 664.7656,341.2266 Z " fill="#000000"/><text fill="#000000" font-family="FG Virgil" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="77" x="698.5" y="341.457">«persistence»</text><text fill="#000000" font-family="FG Virgil" font-size="14" lengthAdjust="spacing" textLength="122" x="676" y="358.627">PersistenceContext</text><path d="M648,366.7031 L648,366.9834 L658.1333,366.1507 L668.2667,366.9608 L678.4,367.236 L688.5333,365.7519 L698.6667,366.5995 L708.8,366.1345 L718.9333,366.1918 L729.0667,366.6122 L739.2,365.7813 L749.3333,367.4413 L759.4667,365.8628 L769.6,366.4394 L779.7333,367.2791 L789.8667,366.5888 L800,366.7031 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><path d="M648,374.7031 L648,374.9834 L658.1333,374.1507 L668.2667,374.9608 L678.4,375.236 L688.5333,373.7519 L698.6667,374.5995 L708.8,374.1345 L718.9333,374.1918 L729.0667,374.6122 L739.2,373.7813 L749.3333,375.4413 L759.4667,373.8628 L769.6,374.4394 L779.7333,375.2791 L789.8667,374.5888 L800,374.7031 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="FG Virgil" font-size="14" lengthAdjust="spacing" textLength="84" x="653" y="393.2363">repositories()</text></g><!--MD5=[48590afff58a68e2fcba47824d6f8a11]
class RepositoryFactory--><g id="elem_RepositoryFactory"><polygon fill="#F1F1F1" points="654.5,487,654.5,487.2102,664.7143,486.5857,674.9286,487.1933,685.1429,487.3997,695.3571,486.2866,705.5714,486.9223,715.7857,486.5735,726,486.6165,736.2143,486.9318,746.4286,486.3086,756.6429,487.5536,766.8571,486.3697,777.0714,486.8022,787.2857,487.4319,797.5,487,797.4891,486.9736,797.8623,487.1675,798.203,487.2831,798.5834,487.4943,798.9447,487.6594,799.2678,487.7322,799.4481,487.8069,799.6209,488.1714,799.7698,488.526,799.7855,488.8254,799.9963,489.2056,800,489.5,800.7022,489.5,799.2788,499.6875,800.6785,509.875,799.7035,520.0625,800.5338,530.25,799.505,540.4375,799.9315,550.625,800,560.8125,800.2284,560.9071,799.8385,561.1598,799.7395,561.533,799.6649,561.9164,799.5424,562.2798,799.2678,562.5803,799.2673,562.5791,798.9509,562.8152,798.4876,562.6969,798.2434,563.1072,797.9235,563.3349,797.5,563.3125,797.5,563.757,787.2857,563.9255,777.0714,562.8294,766.8571,562.6603,756.6429,562.6911,746.4286,563.2536,736.2143,563.116,726,563.9939,715.7857,563.1378,705.5714,562.9694,695.3571,563.5408,685.1429,562.6457,674.9286,562.7934,664.7143,563.9615,654.5,563.3125,654.5556,563.4467,654.2401,563.3922,653.7518,562.9205,653.4801,562.9715,653.1611,562.9085,652.7322,562.5803,652.5868,562.52,652.5563,562.2145,652.4781,561.8892,652.4936,561.6027,652.1452,561.1655,652,560.8125,652.4626,560.8125,651.4462,550.625,651.3227,540.4375,652.5036,530.25,651.2831,520.0625,652.509,509.875,652.2066,499.6875,652,489.5,651.9175,489.4658,652.0375,489.1013,652.4342,488.8514,652.3472,488.4012,652.7681,488.1613,652.7322,487.7322,652.6617,487.562,653.1645,487.7759,653.5011,487.5885,653.8241,487.3683,654.1525,487.161,654.5,487" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#C2C2C2" points="678.0608,511.0272,676.4484,513.2304,674.5412,516.4573,671.8136,518.632,668.9474,519.8212,666.662,519.9244,663.7247,518.4371,660.9532,517.4655,658.8495,515.4927,657.7461,513.2343,657.0917,511.4361,656.4506,509.0873,655.41,507.066,656.2096,505.0926,656.9102,502.9308,659.5393,501.221,661.389,499.0027,663.6784,498.266,666.4001,497.6316,669.8904,498.0085,671.8021,498.9101,674.0247,499.3188,676.7272,502.0875,677.6693,505.0105,678.0786,507.0049,677.615,510.2914" style="stroke:#181818;stroke-width:1.0;"/><path d="M669.7656,504.2266 Q669.9219,504.0078 670.1094,503.8984 Q670.2969,503.7891 670.5156,503.7891 Q670.8906,503.7891 671.125,504.0547 Q671.3594,504.3047 671.3594,504.9141 L671.3594,506.3672 Q671.3594,506.9766 671.125,507.2422 Q670.8906,507.5078 670.5156,507.5078 Q670.1719,507.5078 669.9688,507.3047 Q669.7656,507.1172 669.6563,506.6016 Q669.6094,506.2422 669.4219,506.0547 Q669.0938,505.6797 668.4844,505.4609 Q667.875,505.2422 667.25,505.2422 Q666.4844,505.2422 665.8438,505.5703 Q665.2188,505.8984 664.7188,506.6484 Q664.2344,507.3984 664.2344,508.4297 L664.2344,509.5234 Q664.2344,510.7578 665.125,511.5859 Q666.0156,512.3984 667.6094,512.3984 Q668.5469,512.3984 669.2031,512.1484 Q669.5938,511.9922 670.0156,511.5547 Q670.2813,511.2891 670.4219,511.2109 Q670.5781,511.1328 670.7813,511.1328 Q671.1094,511.1328 671.3594,511.3984 Q671.625,511.6484 671.625,511.9922 Q671.625,512.3359 671.2813,512.7422 Q670.7813,513.3203 669.9844,513.6484 Q668.9063,514.1016 667.6094,514.1016 Q666.0938,514.1016 664.8906,513.4766 Q663.9063,512.9766 663.2188,511.9141 Q662.5313,510.8359 662.5313,509.5547 L662.5313,508.3984 Q662.5313,507.0703 663.1406,505.9297 Q663.7656,504.7734 664.8594,504.1641 Q665.9531,503.5391 667.1875,503.5391 Q667.9219,503.5391 668.5625,503.7109 Q669.2188,503.8672 669.7656,504.2266 Z " fill="#000000"/><text fill="#000000" font-family="FG Virgil" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="50" x="714" y="504.457">«factory»</text><text fill="#000000" font-family="FG Virgil" font-size="14" lengthAdjust="spacing" textLength="116" x="681" y="521.627">RepositoryFactory</text><path d="M653,529.7031 L653,529.9834 L662.7333,529.1507 L672.4667,529.9608 L682.2,530.236 L691.9333,528.7519 L701.6667,529.5995 L711.4,529.1345 L721.1333,529.1918 L730.8667,529.6122 L740.6,528.7813 L750.3333,530.4413 L760.0667,528.8628 L769.8,529.4394 L779.5333,530.2791 L789.2667,529.5888 L799,529.7031 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><path d="M653,537.7031 L653,537.9834 L662.7333,537.1507 L672.4667,537.9608 L682.2,538.236 L691.9333,536.7519 L701.6667,537.5995 L711.4,537.1345 L721.1333,537.1918 L730.8667,537.6122 L740.6,536.7813 L750.3333,538.4413 L760.0667,536.8628 L769.8,537.4394 L779.5333,538.2791 L789.2667,537.5888 L799,537.7031 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="FG Virgil" font-size="14" lengthAdjust="spacing" textLength="45" x="658" y="556.2363">users()</text></g><!--MD5=[093c210125347143eef5bb9199eae634]
class UserRepository--><g id="elem_UserRepository"><polygon fill="#F1F1F1" points="714,641,714,641.2102,724.1333,640.5857,734.2667,641.1933,744.4,641.3997,754.5333,640.2866,764.6667,640.9223,774.8,640.5735,784.9333,640.6165,795.0667,640.9318,805.2,640.3086,815.3333,641.5536,825.4667,640.3697,835.6,640.8022,845.7333,641.4319,855.8667,640.9142,866,641,866.0087,641.021,866.3495,641.1366,866.7299,641.3479,867.0912,641.513,867.4889,641.7662,867.7678,641.7322,867.9744,641.8178,868.1234,642.1724,868.1391,642.4718,868.3499,642.852,868.5698,643.236,868.5,643.5,867.7788,643.5,869.1785,653.3802,868.2035,663.2604,869.0338,673.1406,868.005,683.0208,868.4315,692.901,869.2416,702.7813,868.4513,712.6615,868.6053,722.5417,868.5,732.4219,868.6043,732.4651,868.4817,732.8285,868.2059,733.1285,868.1491,733.5192,867.7379,733.7631,867.7678,734.1896,867.804,734.2772,867.4841,734.5049,867.1174,734.6194,866.7853,734.8178,866.2919,734.6267,866,734.9219,866,734.2697,855.8667,734.3005,845.7333,734.863,835.6,734.7253,825.4667,735.6033,815.3333,734.7472,805.2,734.5788,795.0667,735.1501,784.9333,734.255,774.8,734.4027,764.6667,735.5708,754.5333,735.3575,744.4,735.6564,734.2667,734.6001,724.1333,735.2411,714,734.9219,714.0753,735.1037,713.5862,734.6299,713.2807,734.5995,712.9554,734.5213,712.6689,734.5368,712.2322,734.1896,712.2309,734.1891,712.2282,733.8951,711.7688,733.4119,711.5843,733.0426,711.8015,732.8397,711.5,732.4219,710.7831,732.4219,712.009,722.5417,711.7066,712.6615,711.2321,702.7813,711.1462,692.901,711.9588,683.0208,711.2007,673.1406,712.0919,663.2604,710.9473,653.3802,711.5,643.5,711.6901,643.5788,711.7956,643.2082,711.8683,642.8241,711.9539,642.4454,712.3096,642.1785,712.2322,641.7322,712.3105,641.9212,712.6074,641.6379,712.9736,641.5219,713.2763,641.2528,713.7378,641.3671,714,641" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#C2C2C2" points="750.1608,665.0272,748.5484,667.2304,746.6412,670.4573,743.9136,672.632,741.0474,673.8212,738.762,673.9244,735.8247,672.4371,733.0532,671.4655,730.9495,669.4927,729.8461,667.2343,729.1917,665.4361,728.5506,663.0873,727.51,661.066,728.3096,659.0926,729.0102,656.9308,731.6393,655.221,733.489,653.0027,735.7784,652.266,738.5001,651.6316,741.9904,652.0085,743.9021,652.9101,746.1247,653.3188,748.8272,656.0875,749.7693,659.0105,750.1786,661.0049,749.715,664.2914" style="stroke:#181818;stroke-width:1.0;"/><path d="M741.8656,658.2266 Q742.0219,658.0078 742.2094,657.8984 Q742.3969,657.7891 742.6156,657.7891 Q742.9906,657.7891 743.225,658.0547 Q743.4594,658.3047 743.4594,658.9141 L743.4594,660.3672 Q743.4594,660.9766 743.225,661.2422 Q742.9906,661.5078 742.6156,661.5078 Q742.2719,661.5078 742.0688,661.3047 Q741.8656,661.1172 741.7563,660.6016 Q741.7094,660.2422 741.5219,660.0547 Q741.1938,659.6797 740.5844,659.4609 Q739.975,659.2422 739.35,659.2422 Q738.5844,659.2422 737.9438,659.5703 Q737.3188,659.8984 736.8188,660.6484 Q736.3344,661.3984 736.3344,662.4297 L736.3344,663.5234 Q736.3344,664.7578 737.225,665.5859 Q738.1156,666.3984 739.7094,666.3984 Q740.6469,666.3984 741.3031,666.1484 Q741.6938,665.9922 742.1156,665.5547 Q742.3813,665.2891 742.5219,665.2109 Q742.6781,665.1328 742.8813,665.1328 Q743.2094,665.1328 743.4594,665.3984 Q743.725,665.6484 743.725,665.9922 Q743.725,666.3359 743.3813,666.7422 Q742.8813,667.3203 742.0844,667.6484 Q741.0063,668.1016 739.7094,668.1016 Q738.1938,668.1016 736.9906,667.4766 Q736.0063,666.9766 735.3188,665.9141 Q734.6313,664.8359 734.6313,663.5547 L734.6313,662.3984 Q734.6313,661.0703 735.2406,659.9297 Q735.8656,658.7734 736.9594,658.1641 Q738.0531,657.5391 739.2875,657.5391 Q740.0219,657.5391 740.6625,657.7109 Q741.3188,657.8672 741.8656,658.2266 Z " fill="#000000"/><text fill="#000000" font-family="FG Virgil" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="68" x="770.4" y="658.457">«repository»</text><text fill="#000000" font-family="FG Virgil" font-size="14" lengthAdjust="spacing" textLength="97" x="755.9" y="675.627">UserRepository</text><path d="M712.5,683.7031 L712.5,683.9834 L722.1875,683.1507 L731.875,683.9608 L741.5625,684.236 L751.25,682.7519 L760.9375,683.5995 L770.625,683.1345 L780.3125,683.1918 L790,683.6122 L799.6875,682.7813 L809.375,684.4413 L819.0625,682.8628 L828.75,683.4394 L838.4375,684.2791 L848.125,683.5888 L857.8125,683.7941 L867.5,683.7031 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><path d="M712.5,691.7031 L712.5,691.9834 L722.1875,691.1507 L731.875,691.9608 L741.5625,692.236 L751.25,690.7519 L760.9375,691.5995 L770.625,691.1345 L780.3125,691.1918 L790,691.6122 L799.6875,690.7813 L809.375,692.4413 L819.0625,690.8628 L828.75,691.4394 L838.4375,692.2791 L848.125,691.5888 L857.8125,691.7941 L867.5,691.7031 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="FG Virgil" font-size="14" lengthAdjust="spacing" textLength="145" x="717.5" y="710.2363">findUserByEmail(email)</text><text fill="#000000" font-family="FG Virgil" font-size="14" lengthAdjust="spacing" textLength="69" x="717.5" y="727.8457">save(User)</text></g><!--MD5=[9446d8b5aed54972f0488291b5131fc0]
link ChangeUserStateUI to ChangeUserStateController--><g id="link_ChangeUserStateUI_ChangeUserStateController"><path d="M565,83.18 L565.2802,83.18 L564.4476,93.5629 L565.2577,103.9457 L565.5329,114.3286 L564.0488,124.7114 L564.8964,135.0943 L564.4313,145.4771 L565,155.86 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="565,160.94,565.064,160.9685,565.6738,159.0839,566.6589,157.3662,567.5217,155.5941,567.9827,153.6434,569,151.94,568.9817,151.9217,568.0995,152.6395,567.3096,153.4496,566.5839,154.3239,565.637,154.977,565,155.94,565.1305,156.0705,564.0514,154.9914,563.3534,154.2934,562.7018,153.6418,561.7798,152.7198,561,151.94,561.0208,151.9492,561.7903,153.7357,562.6544,155.5642,563.4728,157.3724,564.3784,159.2193,565,160.94" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="FG Virgil" font-size="13" lengthAdjust="spacing" textLength="73" x="566" y="127.4951">theController</text></g><!--MD5=[dbfce5067b79689ed5524d6855322e14]
link ChangeUserStateController to UserRepository--><g id="link_ChangeUserStateController_UserRepository"><path d="M668.12,218.38 L668.1467,218.4695 L670.1426,218.8223 L672.2949,219.6998 L674.3963,220.4064 L676.3301,220.551 L678.4958,221.4736 L678.4851,221.4408 L680.5377,221.9763 L682.6442,222.6774 L684.788,223.4937 L686.8029,223.9132 L688.9985,224.8884 L689.0808,225.1203 L691.0195,225.3747 L693.1985,226.3061 L695.4068,227.3201 L697.4445,227.8535 L699.572,228.6397 L699.5829,228.668 L701.6845,229.4471 L703.836,230.3549 L705.9634,231.2007 L708.1367,232.1649 L710.1603,232.7428 L710.2767,233.0174 L712.3876,233.9148 L714.4234,234.6351 L716.569,235.6147 L718.7199,236.6064 L720.7075,237.2131 L720.5725,236.9224 L722.9246,238.4571 L724.8321,239.0347 L727.0775,240.3399 L728.9749,240.8957 L731.1576,242.0658 L731.1438,242.0387 L733.3667,243.4096 L735.2666,244.1467 L737.3571,245.2578 L739.4636,246.4003 L741.4546,247.3164 L741.5452,247.4777 L743.4713,248.4476 L745.5523,249.6931 L747.3828,250.4927 L749.5868,251.9575 L751.5425,252.98 L751.6709,253.1871 L753.6112,254.3663 L755.6152,255.6484 L757.323,256.4528 L759.248,257.6073 L761.3653,259.0721 L761.2088,258.8445 L763.2508,260.3577 L765.1165,261.6145 L767.238,263.2431 L768.9227,264.2368 L770.8671,265.6079 L770.7743,265.4869 L772.7537,267.0874 L774.3366,268.1707 L776.2015,269.6218 L778.3423,271.4328 L779.9918,272.6029 L780.118,272.7497 L781.9429,274.3443 L783.3752,275.4821 L785.2992,277.192 L787.1161,278.7773 L788.6834,280.0722 L788.5372,279.9215 L790.2943,281.6334 L792.0035,283.296 L793.8067,285.0555 L795.2443,286.4381 L796.8861,288.0312 L797.0385,288.1692 L798.2351,289.5589 L799.7259,291.2149 L801.6466,293.2599 L802.7759,294.5888 L804.5437,296.4954 L804.7216,296.6351 L806.0273,298.349 L807.2727,300.0156 L808.654,301.7889 L810.3494,303.8089 L811.6003,305.4798 L811.4899,305.4056 L813.0986,307.5306 L813.9563,309.1508 L815.6679,311.345 L816.8987,313.216 L818,315 L818.0942,315.0545 L819.1167,316.9088 L820.4765,318.9583 L821.5315,320.8314 L822.4591,322.6308 L823.4925,324.4914 L823.5989,324.5452 L824.4246,326.4122 L825.7442,328.5289 L826.5052,330.3633 L827.496,332.3137 L828.4113,334.2261 L828.1636,334.1175 L829.1195,336.1452 L830.3736,338.3037 L831.2056,340.2771 L831.8863,342.1841 L832.7769,344.1832 L832.643,344.1327 L833.4525,346.1806 L834.0249,348.139 L835.2493,350.3435 L836.151,352.4262 L836.6101,354.3419 L836.8329,354.4134 L837.5684,356.5042 L837.8808,358.4591 L838.6398,360.5574 L839.1032,362.5607 L839.9315,364.6813 L840.0534,364.7141 L840.6034,366.8097 L841.3006,368.9449 L841.531,370.9543 L842.1379,373.0651 L842.7616,375.1805 L842.9541,375.2232 L843.4797,377.3628 L843.4831,379.3865 L844.0933,381.5448 L844.7141,383.7055 L845.1213,385.8188 L844.8539,385.7713 L845.6578,387.9975 L845.998,390.1414 L846.223,392.2648 L846.7112,394.4349 L847.0309,396.5752 L847.3518,396.6189 L847.1892,398.7271 L847.7618,400.9355 L848.045,403.1045 L848.2662,405.265 L848.5113,407.4288 L848.5737,407.4349 L848.7759,409.6198 L848.664,411.7738 L848.9771,413.9695 L849.1646,416.1529 L849.5831,418.3589 L849.6114,418.3607 L849.7589,420.5585 L849.9283,422.7576 L849.8642,424.9423 L850.1001,427.1456 L850.2668,429.3445 L850.2134,429.343 L850.5864,431.556 L850.5829,433.7581 L850.2409,435.9506 L850.4875,438.1599 L850.5832,440.3649 L850.3266,440.3642 L850.7053,442.5721 L850.8414,444.7793 L850.807,446.9861 L850.3653,449.1917 L850.5528,451.3991 L850.7589,451.4058 L850.1515,453.5939 L850.4991,455.8129 L850.2059,458.0111 L850.3105,460.2223 L850.1963,462.4263 L850.3029,462.4327 L850.2733,464.6388 L849.6121,466.8068 L850.01,469.0386 L849.7457,471.2305 L849.5343,473.4256 L849.6916,473.4392 L849.6761,475.6444 L849.158,477.8061 L849.0438,480.0027 L848.8714,482.1943 L848.5875,484.3762 L848.6746,484.3859 L848.3449,486.5524 L848.417,488.7636 L847.5916,490.8749 L847.8684,493.1089 L847.3765,495.2573 L847.1016,495.2202 L846.8476,497.3833 L846.8123,499.5759 L846.5162,501.7333 L845.9958,503.8605 L845.9219,506.0479 L846.1036,506.0764 L845.6342,508.1912 L845.57,510.3697 L845.2083,512.5015 L844.3831,514.5604 L844.2444,516.7272 L844.0703,516.6961 L843.812,518.8265 L843.6481,520.9738 L843.2929,523.0869 L842.8724,525.1884 L842.3646,527.2743 L842.2156,527.2448 L842.2298,529.4082 L841.8164,531.4868 L841.1072,533.5067 L840.6113,535.569 L840.3032,537.6685 L840.1289,537.6305 L839.7655,539.6922 L839.4739,541.7695 L838.94,543.7942 L838.3438,545.8052 L838.0807,547.8887 L838.2916,547.9384 L837.4096,549.847 L837.3529,551.9502 L836.8479,553.9476 L836.3513,555.9471 L835.7179,557.9143 L836.0163,557.9898 L835.1154,559.8494 L834.5953,561.8055 L834.4519,563.8568 L833.4747,565.6971 L833.2353,567.7242 L833.1351,567.6964 L832.2364,571.5159 L831.168,575.2883 L829.9367,579.0155 L829.0234,582.8309 L827.9934,586.614 L828.3097,586.7113 L827.1742,590.2542 L825.5509,593.6468 L824.7428,597.2905 L823.3966,600.7684 L822.5202,604.3911 L822.5091,604.3874 L821.5357,607.7321 L820.4813,611.0495 L818.9164,614.1956 L818.2573,617.6458 L816.9807,620.8887 L816.9842,620.89 L815.6604,623.8151 L814.6075,626.8381 L813.8528,629.9688 L812.7326,632.9675 L811.54,635.94 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="809.69,640.85,809.7399,640.8992,810.9741,639.35,812.5009,638.089,813.9324,636.7342,815.0506,635.0707,816.6025,633.8345,816.5918,633.8109,815.5134,634.1721,814.4888,634.6523,813.5018,635.2152,812.3856,635.4931,811.4503,636.1701,811.6184,636.2463,810.7918,635.0529,810.456,634.082,810.1801,633.1383,809.5558,632.0366,809.1147,631.018,809.1374,631.0193,809.2191,632.9837,809.4042,634.9543,809.5394,636.9218,809.7698,638.895,809.69,640.85" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="FG Virgil" font-size="13" lengthAdjust="spacing" textLength="25" x="852" y="453.4951">repo</text></g><!--MD5=[34702d9dc0743cb9daaf2ae22be3b136]
link ChangeUserStateController to AuthorizationService--><g id="link_ChangeUserStateController_AuthorizationService"><path d="M505.6,237.1 L505.6513,237.1781 L501.0021,239.9001 L496.6537,243.0798 L492.2073,246.1105 L487.4389,248.651 L483.1163,251.87 L483.0969,251.8414 L480.7678,253.2286 L478.5362,254.76 L476.3724,256.3918 L473.9751,257.6779 L471.9048,259.4481 L472.0449,259.6504 L469.5644,260.7282 L467.4929,262.3966 L465.4712,264.1371 L463.1593,265.4583 L461,267 L461.0177,267.0247 L457.3056,269.6274 L453.6739,272.3423 L450.0034,275.0031 L446.4069,277.7673 L442.5692,280.1945 L442.7463,280.4345 L439.0329,283.1793 L435.2052,285.7693 L431.5448,288.5858 L427.8922,291.413 L423.9913,293.9038 L423.7981,293.648 L420.5433,296.8859 L416.6524,299.2815 L413.2451,302.3175 L409.3398,304.6941 L405.8427,307.6111 L405.8241,307.587 L402.6151,310.5101 L398.9724,312.8695 L395.5856,315.5615 L392.2203,318.2815 L388.7,320.8 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="384.65,323.94,384.6666,324.0081,386.5307,323.3385,388.4923,323.0678,390.4222,322.6673,392.2477,321.8395,394.2176,321.6031,394.2143,321.5774,393.0773,321.3181,391.957,321.1883,390.8482,321.1486,389.6996,320.7986,388.6067,320.8832,388.7898,320.9067,388.5423,319.7343,388.8293,318.6304,389.1815,317.535,389.1543,316.3908,389.3267,315.2723,389.3467,315.2831,388.382,317.0008,387.5084,318.7676,386.5908,320.5108,385.7571,322.2992,384.65,323.94" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="FG Virgil" font-size="13" lengthAdjust="spacing" textLength="94" x="462" y="281.4951">theAuthzService</text></g><!--MD5=[e3c6df609e86b7b04c32a4ade537a939]
link ChangeUserStateController to PersistenceContext--><g id="link_ChangeUserStateController_PersistenceContext"><path d="M601.88,237.34 L602.0794,237.5369 L608.3019,243.8535 L615.6934,251.3244 L622.7042,258.4194 L628.4632,264.2783 L635.8813,271.7755 L642.3654,278.3504 L649.2212,285.2924 L656.3353,292.4895 L662.5591,298.8073 L670.5553,306.8753 L676.247,312.6679 L683.66,320.16 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="687.32,323.86,687.3855,323.8848,686.4948,321.9685,685.9884,320.1973,685.3568,318.3789,684.3137,316.4051,683.8402,314.6464,683.8143,314.6462,683.6912,315.7768,683.6987,316.9083,683.797,318.0403,683.5824,319.1704,683.806,320.3031,683.8071,320.4876,682.6733,320.0862,681.5429,320.2235,680.4128,320.4265,679.2804,320.2471,678.1492,320.2688,678.1575,320.29,679.9795,320.9771,681.8392,321.7607,683.6807,322.4978,685.557,323.3236,687.32,323.86" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="FG Virgil" font-size="13" lengthAdjust="spacing" textLength="67" x="646" y="281.4951">persistence</text></g><!--MD5=[c40dd4de5fea40433b9cb3b5cd053c6d]
link ChangeUserStateController to user:User--><g id="link_ChangeUserStateController_user:User"><path d="M565,237.34 L565.2802,237.34 L564.4476,247.6743 L565.2577,258.0086 L565.5329,268.3429 L564.0488,278.6771 L564.8964,289.0114 L564.4313,299.3457 L565,309.68 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="565,314.94,565.064,314.9685,565.6738,313.0839,566.6589,311.3662,567.5217,309.5941,567.9827,307.6434,569,305.94,568.9817,305.9217,568.0995,306.6395,567.3096,307.4496,566.5839,308.3239,565.637,308.977,565,309.94,565.1305,310.0705,564.0514,308.9914,563.3534,308.2934,562.7018,307.6418,561.7798,306.7198,561,305.94,561.0208,305.9492,561.7903,307.7357,562.6544,309.5642,563.4728,311.3724,564.3784,313.2193,565,314.94" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[754b775031405e096442b27febffa290]
link PersistenceContext to RepositoryFactory--><g id="link_PersistenceContext_RepositoryFactory"><path d="M724.46,400.34 L724.7402,400.3435 L724.0339,410.4881 L724.9702,420.6532 L725.3716,430.8116 L724.0139,440.9482 L724.9876,451.1137 L724.6489,461.2629 L724.8325,471.4186 L725.47,481.58 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="725.54,486.86,725.6043,486.8877,726.1925,484.9963,727.1579,483.2674,728.0005,481.4856,728.4391,479.5298,729.4369,477.8149,729.4184,477.7968,728.5444,478.5246,727.7639,479.3437,727.0482,480.2263,726.1089,480.8902,725.4829,481.8603,725.6119,481.9923,724.5269,480.9193,723.8186,480.2316,723.1562,479.5909,722.2265,478.6767,721.4374,477.9063,721.4581,477.9158,722.2482,479.6926,723.1325,481.5126,723.9714,483.3117,724.897,485.1506,725.54,486.86" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="FG Virgil" font-size="13" lengthAdjust="spacing" textLength="39" x="727" y="453.4951">factory</text></g><!--MD5=[0bde64d3861a2e0b7bf5316115f64c06]
link RepositoryFactory to UserRepository--><g id="link_RepositoryFactory_UserRepository"><path d="M740.84,563.34 L741.1004,563.4435 L743.9517,572.2521 L748.3295,581.6677 L752.2102,590.8857 L754.4561,599.4535 L758.8687,608.883 L762.0616,617.8274 L765.7399,626.9648 L769.84,636.27 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="771.69,640.94,771.76,640.9428,771.6315,638.9663,771.9134,637.0063,772.0616,635.0409,771.7704,633.0577,772.0875,631.0992,772.0637,631.0889,771.5086,632.0815,771.0733,633.1259,770.7214,634.2063,770.0822,635.1627,769.8454,636.2927,769.9185,636.4621,768.7234,635.6514,767.7418,635.3353,766.7863,635.0796,765.6792,634.4727,764.6518,634.0506,764.6678,634.0668,766.052,635.4208,767.5087,636.8489,768.9305,638.2412,770.4189,639.7016,771.69,640.94" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="FG Virgil" font-size="13" lengthAdjust="spacing" textLength="25" x="759" y="607.4951">repo</text></g><!--MD5=[56c9b288c5d935d148413f674d408933]
link ChangeUserStateController to AuthzRegistry--><g id="link_ChangeUserStateController_AuthzRegistry"><path d="M461.97,225.18 L461.9939,225.2703 L455.6677,226.6564 L449.4815,228.572 L443.2497,230.3151 L436.8679,231.4913 L430.6937,233.4523 L430.6846,233.419 L423.8926,235.1203 L417.1466,236.9895 L410.4326,238.9754 L403.6084,240.559 L396.9386,242.7061 L397.0061,242.9427 L389.7316,244.47 L382.6541,246.6882 L375.6006,248.9907 L368.4073,250.8028 L361.2876,252.8728 L361.2963,252.9018 L353.8908,255.0613 L346.5247,257.3532 L339.1396,259.5812 L331.7908,261.931 L324.3238,263.8837 L324.4128,264.1684 L316.8751,266.5292 L309.28,268.7065 L301.769,271.1525 L294.2619,273.6111 L286.6301,275.6705 L286.5309,275.3657 L282.9357,277.1899 L279.0139,278.0104 L275.3405,279.5939 L271.4113,280.3916 L267.6917,281.8334 L267.682,281.8045 L264.016,283.4122 L260.124,284.3453 L256.3653,285.6765 L252.6178,287.041 L248.7895,288.1645 L248.8499,288.3394 L245.0303,289.461 L241.3139,290.8815 L237.4306,291.8185 L233.7963,293.4766 L229.9964,294.6553 L230.0783,294.8848 L226.3406,296.1698 L222.6435,297.5687 L218.7575,298.4382 L215.01,299.6958 L211.3852,301.2972 L211.2894,301.0382 L207.7048,302.6295 L204.0123,303.929 L200.4763,305.6519 L196.6731,306.6519 L193.0288,308.0816 L192.9741,307.9393 L189.4593,309.56 L185.7111,310.5723 L182.1288,312.0172 L178.7091,313.8856 L175,315 L175.0745,315.1787 L171.8177,316.6813 L168.3289,317.628 L165.1306,319.2709 L161.869,320.7622 L158.46,321.9 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="153.8,323.97,153.8001,324.0401,155.7695,323.8279,157.7397,324.0264,159.7096,324.0912,161.6786,323.7162,163.6488,323.95,163.6396,323.9258,162.5413,323.4132,161.4896,323.0226,160.4704,322.7168,159.3394,322.1188,158.3649,321.93,158.5373,321.9959,158.5727,320.7982,159.1113,319.7929,159.7114,318.8111,159.9542,317.6927,160.3849,316.6461,160.4018,316.6613,159.06,318.1038,157.7952,319.6155,156.4932,321.0938,155.2622,322.6358,153.8,323.97" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="FG Virgil" font-size="13" lengthAdjust="spacing" textLength="43" x="314" y="281.4951">registry</text></g><!--MD5=[4abb2583489d4910c09568de8fe67562]
@startuml
'http://plantuml.com/skinparam.html
skinparam handwritten true
skinparam monochrome true
skinparam packageStyle rect
skinparam defaultFontName FG Virgil
skinparam shadowing false

class ChangeUserStateUI <<presentation>>
class ChangeUserStateController <<application>>
class AuthzRegistry <<util>>
class AuthorizationService <<service>>
class "user:User" <<domain>>
class PersistenceContext  <<persistence>>
class RepositoryFactory  <<factory>>
class UserRepository <<repository>>

ChangeUserStateUI - -> ChangeUserStateController : theController
ChangeUserStateController - -> UserRepository: repo
ChangeUserStateController - -> AuthorizationService: theAuthzService
ChangeUserStateController - -> PersistenceContext: persistence
ChangeUserStateController - -> "user:User"
PersistenceContext - -> RepositoryFactory: factory
RepositoryFactory - -> UserRepository: repo
ChangeUserStateController - -> AuthzRegistry: registry

ChangeUserStateUI : doShow()
ChangeUserStateController : enableUserByEmail(String)
AuthzRegistry : authorizationService()
AuthorizationService : ensureAuthenticatedUserHasAnyOf(Role...))
PersistenceContext : repositories()
RepositoryFactory : users()
"user:User" : enable()
"user:User" : disable()
UserRepository : findUserByEmail(email)
UserRepository : save(User)

@enduml

@startuml
skinparam handwritten true
skinparam monochrome true
skinparam packageStyle rect
skinparam defaultFontName FG Virgil
skinparam shadowing false

class ChangeUserStateUI <<presentation>>
class ChangeUserStateController <<application>>
class AuthzRegistry <<util>>
class AuthorizationService <<service>>
class "user:User" <<domain>>
class PersistenceContext  <<persistence>>
class RepositoryFactory  <<factory>>
class UserRepository <<repository>>

ChangeUserStateUI - -> ChangeUserStateController : theController
ChangeUserStateController - -> UserRepository: repo
ChangeUserStateController - -> AuthorizationService: theAuthzService
ChangeUserStateController - -> PersistenceContext: persistence
ChangeUserStateController - -> "user:User"
PersistenceContext - -> RepositoryFactory: factory
RepositoryFactory - -> UserRepository: repo
ChangeUserStateController - -> AuthzRegistry: registry

ChangeUserStateUI : doShow()
ChangeUserStateController : enableUserByEmail(String)
AuthzRegistry : authorizationService()
AuthorizationService : ensureAuthenticatedUserHasAnyOf(Role...))
PersistenceContext : repositories()
RepositoryFactory : users()
"user:User" : enable()
"user:User" : disable()
UserRepository : findUserByEmail(email)
UserRepository : save(User)

@enduml

PlantUML version 1.2022.7(Mon Aug 22 18:01:30 BST 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>